<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Stack.PHP: PagedResponse Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Stack.PHP
   
   </div>
   <div id="projectbrief">A simple and easy to use PHP library for the Stack Exchange API.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">PagedResponse Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="PagedResponse" -->
<p>An object capable of requesting paged data sequentially.  
 <a href="class_paged_response.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for PagedResponse:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_paged_response.png" usemap="#PagedResponse_map" alt=""/>
  <map id="PagedResponse_map" name="PagedResponse_map">
<area href="class_paged_site_response.html" title="Represents a response that contains a list of sites." alt="PagedSiteResponse" shape="rect" coords="0,56,124,80"/>
</map>
 </div></div>

<p><a href="class_paged_response-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_paged_response.html#ae517cfcbfe023a1353590aa7cdff493a">__construct</a> ($base_url, $return_object)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for a response.  <a href="#ae517cfcbfe023a1353590aa7cdff493a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_paged_response.html#a02335ad339e730aaa842f43f49a5e6dd">Fetch</a> ($fetch_next=TRUE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next item in the set.  <a href="#a02335ad339e730aaa842f43f49a5e6dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_paged_response.html#ace8101be4a8851c371084f2d919db39f">Reset</a> ($reset_all=TRUE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the internal index.  <a href="#ace8101be4a8851c371084f2d919db39f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_paged_response.html#a622d0a7b70413bf91b65dccfb2b1463f">Page</a> ($page=null, $include_total=FALSE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the specified page and resets the index.  <a href="#a622d0a7b70413bf91b65dccfb2b1463f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_paged_response.html#a77ede9d482173491661056c43354f4d9">Pagesize</a> ($pagesize)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the pagesize to the specified value.  <a href="#a77ede9d482173491661056c43354f4d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_paged_response.html#aa82898eed27b9a24ea5b189262dec480">Total</a> ($all_pages=TRUE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of items.  <a href="#aa82898eed27b9a24ea5b189262dec480"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_paged_response.html#aff30b66e161fa082557762e0a0d191d0">RetrieveDataFromURL</a> ($include_total)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data from the <a class="el" href="class_u_r_l.html" title="Provides a means of easily specifying an API resource.">URL</a> and verifies the type of items returned.  <a href="#aff30b66e161fa082557762e0a0d191d0"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>An object capable of requesting paged data sequentially. </p>
<p>This class is returned by a call to <a class="el" href="class_paged_request.html#a902380b21bd9a219febeb833076d3244" title="Performs the HTTP request.">PagedRequest::Exec()</a> and provides a means of stepping through the items returned from your request. By default, additional pages are requested and returned behind the scenes to provide a seamless stream of items.</p>
<p>You fetch the next item in the sequence using <a class="el" href="class_paged_response.html#a02335ad339e730aaa842f43f49a5e6dd" title="Returns the next item in the set.">PagedResponse::Fetch()</a> which returns FALSE when no more items are available. This class is also aware of what filters need to be used to obtain the desired information. For example, to call <a class="el" href="class_paged_response.html#aa82898eed27b9a24ea5b189262dec480" title="Returns the total number of items.">PagedResponse::Total()</a>, this class needs to have either received a reply containing the total number of items or it will then issue an appropriate request to obtain the information. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae517cfcbfe023a1353590aa7cdff493a"></a><!-- doxytag: member="PagedResponse::__construct" ref="ae517cfcbfe023a1353590aa7cdff493a" args="($base_url, $return_object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PagedResponse::__construct </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>base_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>return_object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor for a response. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$base_url</td><td>an instance of the <a class="el" href="class_u_r_l.html" title="Provides a means of easily specifying an API resource.">URL</a> class </td></tr>
    <tr><td class="paramname">$return_object</td><td>the name of the object the items will be returned in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a02335ad339e730aaa842f43f49a5e6dd"></a><!-- doxytag: member="PagedResponse::Fetch" ref="a02335ad339e730aaa842f43f49a5e6dd" args="($fetch_next=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PagedResponse::Fetch </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fetch_next</em> = <code>TRUE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the next item in the set. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fetch_next</td><td>whether to fetch the next page if there are no more items in the current page </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the next item in the set or FALSE if none </dd></dl>

<p>Reimplemented in <a class="el" href="class_paged_site_response.html#ad5ccfa9bd890f0a3bed198bde51284e2">PagedSiteResponse</a>.</p>

</div>
</div>
<a class="anchor" id="a622d0a7b70413bf91b65dccfb2b1463f"></a><!-- doxytag: member="PagedResponse::Page" ref="a622d0a7b70413bf91b65dccfb2b1463f" args="($page=null, $include_total=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PagedResponse::Page </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>page</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>include_total</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fetches the specified page and resets the index. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$page</td><td>the page number to fetch </td></tr>
    <tr><td class="paramname">$include_total</td><td>whether this filter needs to include total number of items </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the current instance</dd></dl>
<p>Note: $page defaults to either the first page or the most recently specified page </p>

</div>
</div>
<a class="anchor" id="a77ede9d482173491661056c43354f4d9"></a><!-- doxytag: member="PagedResponse::Pagesize" ref="a77ede9d482173491661056c43354f4d9" args="($pagesize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PagedResponse::Pagesize </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pagesize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the pagesize to the specified value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$pagesize</td><td>the number of items that each page should contain </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the current instance</dd></dl>
<p>Note: this method should not be called after the first request is made as it will invalidate the internal index. </p>

</div>
</div>
<a class="anchor" id="ace8101be4a8851c371084f2d919db39f"></a><!-- doxytag: member="PagedResponse::Reset" ref="ace8101be4a8851c371084f2d919db39f" args="($reset_all=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PagedResponse::Reset </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>reset_all</em> = <code>TRUE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resets the internal index. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$reset_all</td><td>whether to reset the index to the beginning of all pages </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aff30b66e161fa082557762e0a0d191d0"></a><!-- doxytag: member="PagedResponse::RetrieveDataFromURL" ref="aff30b66e161fa082557762e0a0d191d0" args="($include_total)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PagedResponse::RetrieveDataFromURL </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>include_total</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the data from the <a class="el" href="class_u_r_l.html" title="Provides a means of easily specifying an API resource.">URL</a> and verifies the type of items returned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$include_total</td><td>whether this filter needs to include total number of items </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa82898eed27b9a24ea5b189262dec480"></a><!-- doxytag: member="PagedResponse::Total" ref="aa82898eed27b9a24ea5b189262dec480" args="($all_pages=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PagedResponse::Total </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>all_pages</em> = <code>TRUE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the total number of items. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$all_pages</td><td>TRUE to include the total of all pages </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the total number of items</dd></dl>
<p>This method's behavior depends heavily on its arguments and the current filter. If the filter provides 'total' in the response, then this method will return that value by default. If not, then a separate request will be made to retrieve that data using a custom filter.</p>
<p>If you merely want the total number of items in the current page, then simply use FALSE for $all_pages. If no data has been fetched yet, this method will fetch the default page (likely the first).</p>
<p>Note that you do not need access to 'total' to simply enumerate all items across all pages. Use code like this:</p>
<pre>while($item = $response-&gt;<a class="el" href="class_paged_response.html#a02335ad339e730aaa842f43f49a5e6dd" title="Returns the next item in the set.">Fetch()</a>)</pre><p>This will continue to fetch the next page even if 'total' is not returned in the response. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/paged_response.php</li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 8 2012 09:27:49 for Stack.PHP by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
